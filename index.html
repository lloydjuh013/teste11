<p style="color: rgba(255,255,255,0.6); margin-top: 10px;">Authorized Dealer ‚Ä¢ Authentic Cards ‚Ä¢ Real Blockchain Payments</p>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">27</div>
                        <div class="stat-label">Cards Available</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">12</div>
                        <div class="stat-label">Live Auctions</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">247</div>
                        <div class="stat-label">Completed Trades</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">1.2k</div>
                        <div class="stat-label">Active Traders</div>
                    </div>
                </div>
            </section>

            <section class="wallet-panel">
                <div class="wallet-header">
                    <h2 style="color: #ffd700; font-size: 1.5rem;">üí∞ Wallet Status</h2>
                    <div style="position: relative;">
                        <button class="connect-wallet-btn" onclick="toggleWalletOptions()" id="connectWalletBtn">Connect Wallet</button>
                        <div class="wallet-options" id="walletOptions">
                            <div class="wallet-option" onclick="connectPhantomWallet()">
                                <div style="width: 20px; height: 20px; background: #512DA8; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: bold;">P</div>
                                <span>Phantom Wallet (LIVE)</span>
                            </div>
                            <div class="wallet-option disabled" onclick="showNotification('MetaMask integration coming soon!', 'info')">
                                <div style="width: 20px; height: 20px; background: #F6851B; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: bold;">M</div>
                                <span>MetaMask (Coming Soon)</span>
                            </div>
                            <div class="wallet-option disabled" onclick="showNotification('Solflare integration coming soon!', 'info')">
                                <div style="width: 20px; height: 20px; background: linear-gradient(45deg, #ff9500, #ffc700); border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: bold;">S</div>
                                <span>Solflare (Coming Soon)</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="wallet-info">
                    <div class="wallet-detail">
                        <h3>Wallet Address</h3>
                        <p id="walletAddress">Not connected</p>
                    </div>
                    <div class="wallet-detail">
                        <h3>SOL Balance</h3>
                        <p id="solBalance">0 SOL</p>
                    </div>
                    <div class="wallet-detail">
                        <h3>HOLDCHU Balance</h3>
                        <p id="tokenBalance">0 HOLDCHU</p>
                    </div>
                    <div class="wallet-detail">
                        <h3>Token Contract</h3>
                        <p style="font-size: 0.8rem;">BDKtKW1gGRFQ57fAmLqjxXCb5zeVtje3F5hBC8Gapump</p>
                    </div>
                </div>
            </section>

            <section class="filters-section">
                <div class="filters-grid">
                    <div class="filter-group">
                        <label>Rarity</label>
                        <select class="filter-select" id="rarityFilter" onchange="applyFilters()">
                            <option value="">All Rarities</option>
                            <option value="common">Common</option>
                            <option value="uncommon">Uncommon</option>
                            <option value="rare">Rare</option>
                            <option value="epic">Epic</option>
                            <option value="legendary">Legendary</option>
                            <option value="mythic">Mythic</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Type</label>
                        <select class="filter-select" id="typeFilter" onchange="applyFilters()">
                            <option value="">All Types</option>
                            <option value="fire">Fire</option>
                            <option value="water">Water</option>
                            <option value="grass">Grass</option>
                            <option value="electric">Electric</option>
                            <option value="psychic">Psychic</option>
                            <option value="fighting">Fighting</option>
                            <option value="dark">Dark</option>
                            <option value="steel">Steel</option>
                            <option value="fairy">Fairy</option>
                            <option value="dragon">Dragon</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Price Range (SOL)</label>
                        <select class="filter-select" id="priceFilter" onchange="applyFilters()">
                            <option value="">All Prices</option>
                            <option value="0-0.1">0 - 0.1 SOL</option>
                            <option value="0.1-0.5">0.1 - 0.5 SOL</option>
                            <option value="0.5-1">0.5 - 1 SOL</option>
                            <option value="1+">1+ SOL</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Sort by</label>
                        <select class="filter-select" id="sortBy" onchange="applySorting()">
                            <option value="name">Name A-Z</option>
                            <option value="price-low">Price Low-High</option>
                            <option value="price-high">Price High-Low</option>
                            <option value="rarity">Rarity</option>
                            <option value="newest">Newest</option>
                        </select>
                    </div>
                </div>
            </section>

            <section class="products-grid" id="productsGrid">
                <!-- Products will be generated by JavaScript -->
            </section>

            <div class="pagination" id="pagination">
                <!-- Pagination will be generated by JavaScript -->
            </div>
        </div>

        <!-- Auctions Section -->
        <div class="main-content" id="auctions">
            <section class="hero-section">
                <h1 class="hero-title">Live Auctions</h1>
                <p class="hero-subtitle">Bid on rare cards with real SOL payments</p>
                <p style="color: rgba(255,255,255,0.6); margin-top: 10px;">Coming Soon - Advanced Auction Features</p>
            </section>
        </div>

        <!-- Trading Section -->
        <div class="main-content" id="trading">
            <section class="hero-section">
                <h1 class="hero-title">Trading Center</h1>
                <p class="hero-subtitle">Trade cards directly with other players</p>
                <p style="color: rgba(255,255,255,0.6); margin-top: 10px;">Coming Soon - P2P Trading System</p>
            </section>
        </div>

        <!-- Admin Section -->
        <div class="main-content" id="admin">
            <section class="hero-section">
                <h1 class="hero-title">Admin Dashboard</h1>
                <p class="hero-subtitle">Manage marketplace and platform settings</p>
            </section>

            <div style="background: rgba(255, 215, 0, 0.1); padding: 30px; border-radius: 15px; text-align: center;">
                <h3 style="color: #ffd700; margin-bottom: 20px;">üîê Admin Access Required</h3>
                <p style="color: rgba(255,255,255,0.8); margin-bottom: 20px;">Password: admin123</p>
                <p style="color: rgba(255,255,255,0.6);">Full admin panel coming soon with card management, user analytics, and platform controls.</p>
            </div>
        </div>
    </div>

    <!-- Transaction Status Modal -->
    <div class="transaction-status" id="transactionStatus">
        <h3 style="color: #ffd700; margin-bottom: 20px;">Processing Transaction</h3>
        <div class="loading" style="margin: 20px 0;"></div>
        <p id="transactionMessage">Please approve the transaction in your wallet...</p>
        <div id="transactionHash" style="margin-top: 15px; font-family: monospace; font-size: 0.9rem; word-break: break-all;"></div>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="sidebar-header">
            <h2 class="sidebar-title">Shopping Cart</h2>
            <button class="close-sidebar-btn" onclick="toggleCart()">√ó</button>
        </div>
        <div class="sidebar-content" id="cartItems">
            <div style="text-align: center; color: rgba(255,255,255,0.6); padding: 40px;">Your cart is empty</div>
        </div>
        <div class="cart-summary">
            <div class="cart-total" id="cartTotal">Total: 0 SOL</div>
            <button class="checkout-btn" onclick="checkout()" id="checkoutBtn">Checkout with SOL</button>
        </div>
    </div>

    <!-- Cart Toggle Button -->
    <button class="cart-toggle" onclick="toggleCart()">
        üõí
        <span class="cart-count" id="cartCount">0</span>
    </button>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // Solana Configuration
        const SOLANA_NETWORK = 'mainnet-beta'; // Use 'devnet' for testing
        const RPC_ENDPOINT = `https://api.${SOLANA_NETWORK}.solana.com`;
        const TOKEN_MINT_ADDRESS = 'BDKtKW1gGRFQ57fAmLqjxXCb5zeVtje3F5hBC8Gapump';
        const MERCHANT_WALLET = 'ArRVEjZWZpnhJiPbFubSu7mzmX6DEeKZJK7VMBdgwynd';

        // Global variables
        let cart = [];
        let wishlist = [];
        let isWalletConnected = false;
        let userWalletAddress = null;
        let solanaConnection = null;
        let currentPage = 1;
        let itemsPerPage = 12;
        let allProducts = [];
        let filteredProducts = [];
        let isAdminMode = false;
        const adminPassword = 'admin123';

        // Initialize Solana connection
        function initializeSolana() {
            try {
                solanaConnection = new solanaWeb3.Connection(RPC_ENDPOINT, 'confirmed');
                console.log('Solana connection initialized');
            } catch (error) {
                console.error('Failed to initialize Solana connection:', error);
                showNotification('Failed to connect to Solana network', 'error');
            }
        }

        // Pok√©mon Cards Database with SOL prices
        const pokemonCards = [
            // Mythic Cards (High Value)
            { name: "Pikachu VMAX Gold", type: "electric", rarity: "mythic", price: 2.5, set: "vivid-voltage", condition: "mint", hp: 320, attack: 230, emoji: "‚ö°", description: "Ultra-rare golden Pikachu with incredible electric attacks." },
            { name: "Mew VMAX Secret", type: "psychic", rarity: "mythic", price: 2.2, set: "fusion-strike", condition: "mint", hp: 310, attack: 210, emoji: "üîÆ", description: "Mythical Pok√©mon with psychic mastery." },
            { name: "Arceus VSTAR", type: "normal", rarity: "mythic", price: 2.8, set: "brilliant-stars", condition: "mint", hp: 280, attack: 200, emoji: "üåü", description: "The Alpha Pok√©mon with god-like powers." },

            // Legendary Cards
            { name: "Charizard VMAX", type: "fire", rarity: "legendary", price: 1.8, set: "champions-path", condition: "mint", hp: 330, attack: 200, emoji: "üî•", description: "The ultimate fire-type powerhouse." },
            { name: "Lugia VSTAR", type: "psychic", rarity: "legendary", price: 1.5, set: "sword-shield", condition: "mint", hp: 340, attack: 220, emoji: "üåü", description: "Legendary psychic-type with powerful abilities." },
            { name: "Rayquaza VMAX", type: "dragon", rarity: "legendary", price: 1.9, set: "evolving-skies", condition: "mint", hp: 350, attack: 240, emoji: "üê≤", description: "Dragon lord with sky-high attack power." },

            // Epic Cards
            { name: "Gengar VMAX", type: "psychic", rarity: "epic", price: 0.9, set: "fusion-strike", condition: "mint", hp: 320, attack: 180, emoji: "üëª", description: "Ghostly powerhouse with haunting abilities." },
            { name: "Machamp VMAX", type: "fighting", rarity: "epic", price: 0.8, set: "battle-styles", condition: "near-mint", hp: 340, attack: 190, emoji: "üí™", description: "Fighting champion with incredible strength." },
            { name: "Dragonite VMAX", type: "dragon", rarity: "epic", price: 0.95, set: "evolving-skies", condition: "mint", hp: 330, attack: 200, emoji: "üêâ", description: "Friendly dragon with overwhelming force." },

            // Rare Cards
            { name: "Blastoise V", type: "water", rarity: "rare", price: 0.45, set: "champions-path", condition: "mint", hp: 230, attack: 160, emoji: "üåä", description: "Water starter with powerful hydro attacks." },
            { name: "Venusaur V", type: "grass", rarity: "rare", price: 0.4, set: "champions-path", condition: "near-mint", hp: 230, attack: 150, emoji: "üåø", description: "Grass starter with nature's blessing." },
            { name: "Gyarados V", type: "water", rarity: "rare", price: 0.5, set: "evolving-skies", condition: "mint", hp: 240, attack: 170, emoji: "üê≤", description: "Fierce water dragon with rage-fueled strength." },
            { name: "Umbreon V", type: "dark", rarity: "rare", price: 0.65, set: "evolving-skies", condition: "mint", hp: 200, attack: 140, emoji: "üåô", description: "Dark evolution with moonlit powers." },
            { name: "Espeon V", type: "psychic", rarity: "rare", price: 0.6, set: "evolving-skies", condition: "mint", hp: 200, attack: 150, emoji: "‚òÄÔ∏è", description: "Psychic evolution with sun-powered abilities." },

            // Uncommon Cards
            { name: "Pikachu V", type: "electric", rarity: "uncommon", price: 0.16, set: "vivid-voltage", condition: "mint", hp: 190, attack: 120, emoji: "‚ö°", description: "Electric mouse with shocking personality." },
            { name: "Charmander", type: "fire", rarity: "uncommon", price: 0.09, set: "base", condition: "excellent", hp: 60, attack: 30, emoji: "üî•", description: "Fire starter with burning spirit." },
            { name: "Squirtle", type: "water", rarity: "uncommon", price: 0.08, set: "base", condition: "good", hp: 60, attack: 25, emoji: "üê¢", description: "Water starter with shell protection." },
            { name: "Bulbasaur", type: "grass", rarity: "uncommon", price: 0.075, set: "base", condition: "near-mint", hp: 60, attack: 25, emoji: "üå±", description: "Grass starter, perfect for beginners." },
            { name: "Psyduck", type: "water", rarity: "uncommon", price: 0.06, set: "fossil", condition: "mint", hp: 60, attack: 30, emoji: "ü¶Ü", description: "Water duck with psychic headaches." },
            { name: "Jigglypuff", type: "fairy", rarity: "uncommon", price: 0.07, set: "jungle", condition: "near-mint", hp: 60, attack: 20, emoji: "üéµ", description: "Singing Pok√©mon that puts foes to sleep." },

            // Common Cards
            { name: "Rattata", type: "normal", rarity: "common", price: 0.025, set: "base", condition: "good", hp: 30, attack: 15, emoji: "üê≠", description: "Common rat Pok√©mon found everywhere." },
            { name: "Pidgey", type: "normal", rarity: "common", price: 0.02, set: "base", condition: "excellent", hp: 40, attack: 20, emoji: "üê¶", description: "Small bird Pok√©mon, very docile." },
            { name: "Weedle", type: "grass", rarity: "common", price: 0.015, set: "base", condition: "near-mint", hp: 40, attack: 15, emoji: "üêõ", description: "Bug Pok√©mon with poisonous stinger." },
            { name: "Caterpie", type: "grass", rarity: "common", price: 0.018, set: "base", condition: "good", hp: 45, attack: 10, emoji: "üêõ", description: "Worm Pok√©mon that loves to eat leaves." },
            { name: "Spearow", type: "normal", rarity: "common", price: 0.022, set: "jungle", condition: "mint", hp: 50, attack: 25, emoji: "üê¶", description: "Tiny bird Pok√©mon with sharp beak." },
            { name: "Oddish", type: "grass", rarity: "common", price: 0.024, set: "jungle", condition: "mint", hp: 50, attack: 20, emoji: "üå±", description: "Weed Pok√©mon that buries itself in soil." },
            { name: "Paras", type: "grass", rarity: "common", price: 0.022, set: "jungle", condition: "excellent", hp: 40, attack: 15, emoji: "üçÑ", description: "Mushroom Pok√©mon with parasitic fungi." }
        ];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeSolana();
            initializeProducts();
            updateCartDisplay();
            setupEventListeners();
            
            // Check if Phantom is already connected
            checkPhantomConnection();
            
            // Welcome message
            setTimeout(() => {
                showNotification('üéâ Welcome to Pok√©Den! Connect Phantom wallet for real transactions.', 'info');
            }, 2000);
        });

        // Real Phantom Wallet Integration
        async function connectPhantomWallet() {
            try {
                // Check if Phantom is installed
                const isPhantomInstalled = window.solana && window.solana.isPhantom;
                
                if (!isPhantomInstalled) {
                    showNotification('Phantom wallet not found! Please install Phantom extension.', 'error');
                    setTimeout(() => {
                        window.open('https://phantom.app/', '_blank');
                    }, 2000);
                    return;
                }

                showTransactionStatus('Connecting to Phantom wallet...', '');
                
                // Request connection
                const response = await window.solana.connect();
                userWalletAddress = response.publicKey.toString();
                isWalletConnected = true;
                
                // Update UI
                document.getElementById('walletAddress').textContent = 
                    userWalletAddress.substring(0, 8) + '...' + userWalletAddress.substring(userWalletAddress.length - 8);
                
                // Get real balances
                await updateWalletBalances();
                
                const connectBtn = document.getElementById('connectWalletBtn');
                connectBtn.textContent = 'Phantom Connected ‚úì';
                connectBtn.style.background = 'linear-gradient(45deg, #4caf50, #66bb6a)';
                connectBtn.disabled = true;
                
                hideTransactionStatus();
                showNotification('Phantom wallet connected successfully!', 'success');
                document.getElementById('walletOptions').style.display = 'none';
                
            } catch (error) {
                console.error('Phantom connection error:', error);
                hideTransactionStatus();
                
                if (error.code === 4001) {
                    showNotification('Connection rejected by user', 'error');
                } else {
                    showNotification('Failed to connect Phantom wallet', 'error');
                }
            }
        }

        // Check if Phantom is already connected
        async function checkPhantomConnection() {
            try {
                if (window.solana && window.solana.isPhantom && window.solana.isConnected) {
                    userWalletAddress = window.solana.publicKey.toString();
                    isWalletConnected = true;
                    
                    document.getElementById('walletAddress').textContent = 
                        userWalletAddress.substring(0, 8) + '...' + userWalletAddress.substring(userWalletAddress.length - 8);
                    
                    await updateWalletBalances();
                    
                    const connectBtn = document.getElementById('connectWalletBtn');
                    connectBtn.textContent = 'Phantom Connected ‚úì';
                    connectBtn.style.background = 'linear-gradient(45deg, #4caf50, #66bb6a)';
                    connectBtn.disabled = true;
                }
            } catch (error) {
                console.error('Error checking Phantom connection:', error);
            }
        }

        // Update wallet balances
        async function updateWalletBalances() {
            if (!isWalletConnected || !userWalletAddress || !solanaConnection) return;
            
            try {
                const publicKey = new solanaWeb3.PublicKey(userWalletAddress);
                
                // Get SOL balance
                const solBalance = await solanaConnection.getBalance(publicKey);
                const solInLamports = solBalance / solanaWeb3.LAMPORTS_PER_SOL;
                document.getElementById('solBalance').textContent = `${solInLamports.toFixed(4)} SOL`;
                
                // Get HOLDCHU token balance
                const holdchuBalance = await getTokenBalance(userWalletAddress);
                document.getElementById('tokenBalance').textContent = `${holdchuBalance} HOLDCHU`;
                
            } catch (error) {
                console.error('Error updating balances:', error);
            }
        }

        // Get token balance
        async function getTokenBalance(walletAddress) {
            try {
                const publicKey = new solanaWeb3.PublicKey(walletAddress);
                const tokenMint = new solanaWeb3.PublicKey(TOKEN_MINT_ADDRESS);
                
                // Find associated token account
                const associatedTokenAddress = await solanaWeb3.getAssociatedTokenAddress(
                    tokenMint,
                    publicKey
                );
                
                const tokenAccount = await solanaConnection.getTokenAccountBalance(associatedTokenAddress);
                
                if (tokenAccount.value) {
                    return parseInt(tokenAccount.value.amount) / Math.pow(10, tokenAccount.value.decimals);
                }
                
                return 0;
            } catch (error) {
                console.log('Token account not found or error:', error);
                return 0;
            }
        }

        // Real SOL Payment Processing
        async function processSOLPayment(amount) {
            if (!isWalletConnected || !userWalletAddress) {
                throw new Error('Wallet not connected');
            }

            try {
                showTransactionStatus('Creating transaction...', '');
                
                const fromPubkey = new solanaWeb3.PublicKey(userWalletAddress);
                const toPubkey = new solanaWeb3.PublicKey(MERCHANT_WALLET);
                const lamports = Math.floor(amount * solanaWeb3.LAMPORTS_PER_SOL);
                
                // Create transaction
                const transaction = new solanaWeb3.Transaction().add(
                    solanaWeb3.SystemProgram.transfer({
                        fromPubkey,
                        toPubkey,
                        lamports
                    })
                );

                // Get recent blockhash
                const { blockhash } = await solanaConnection.getRecentBlockhash();
                transaction.recentBlockhash = blockhash;
                transaction.feePayer = fromPubkey;

                showTransactionStatus('Please approve the transaction in Phantom...', '');
                
                // Sign and send transaction
                const signedTransaction = await window.solana.signTransaction(transaction);
                
                showTransactionStatus('Sending transaction to network...', '');
                
                const signature = await solanaConnection.sendRawTransaction(signedTransaction.serialize());
                
                showTransactionStatus('Confirming transaction...', signature);
                
                // Wait for confirmation
                await solanaConnection.confirmTransaction(signature, 'confirmed');
                
                return signature;
                
            } catch (error) {
                console.error('Payment error:', error);
                hideTransactionStatus();
                throw error;
            }
        }

        // Transaction Status Modal
        function showTransactionStatus(message, hash) {
            const modal = document.getElementById('transactionStatus');
            const messageEl = document.getElementById('transactionMessage');
            const hashEl = document.getElementById('transactionHash');
            
            messageEl.textContent = message;
            
            if (hash) {
                hashEl.innerHTML = `<strong>Transaction:</strong> <a href="https://solscan.io/tx/${hash}" target="_blank" style="color: #ffd700;">${hash.substring(0, 20)}...</a>`;
            } else {
                hashEl.innerHTML = '';
            }
            
            modal.classList.add('active');
        }

        function hideTransactionStatus() {
            document.getElementById('transactionStatus').classList.remove('active');
        }

        // Product Management
        function initializeProducts() {
            allProducts = pokemonCards.map((card, index) => ({
                id: index + 1,
                ...card,
                isActive: true
            }));
            filteredProducts = [...allProducts];
            renderProducts();
        }

        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const productsToShow = filteredProducts.slice(startIndex, endIndex);

            grid.innerHTML = productsToShow.map(product => `
                <div class="product-card" data-rarity="${product.rarity}">
                    <div class="card-image">
                        ${product.emoji}
                        <div class="rarity-badge rarity-${product.rarity}">${product.rarity}</div>
                    </div>
                    <div class="card-details">
                        <h3 class="card-name">${product.name}</h3>
                        <p class="card-set">${product.set.replace('-', ' ').toUpperCase()} ‚Ä¢ ${product.condition.toUpperCase()}</p>
                        <p class="card-description">${product.description}</p>
                        <div class="card-stats">
                            <div class="stat">
                                <div class="stat-label">HP</div>
                                <div class="stat-value">${product.hp}</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Attack</div>
                                <div class="stat-value">${product.attack}</div>
                            </div>
                        </div>
                        <div class="card-price">
                            <span class="price-token">${product.price} SOL</span>
                            <span class="price-usd">‚âà ${(product.price * 180).toFixed(2)}</span>
                        </div>
                        <div class="card-actions">
                            <button class="add-to-cart-btn" onclick="addToCart(${product.id})" ${!isWalletConnected ? 'disabled' : ''}>
                                ${!isWalletConnected ? 'Connect Wallet' : 'Add to Cart'}
                            </button>
                            <button class="trade-btn" onclick="showNotification('Trading coming soon!', 'info')" disabled>Trade</button>
                            <button class="wishlist-btn ${wishlist.includes(product.id) ? 'active' : ''}" onclick="toggleWishlist(${product.id})">${wishlist.includes(product.id) ? '‚ù§Ô∏è' : '‚ô°'}</button>
                        </div>
                    </div>
                </div>
            `).join('');

            renderPagination();
        }

        // Navigation Functions
        function switchSection(sectionName) {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');

            document.querySelectorAll('.main-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(sectionName).classList.add('active');
        }

        // Admin Functions
        function toggleAdminAccess() {
            if (isAdminMode) {
                isAdminMode = false;
                document.getElementById('adminNavItem').style.display = 'none';
                showNotification('Admin mode disabled', 'info');
                switchSection('marketplace');
            } else {
                const password = prompt('Enter admin password:');
                if (password === adminPassword) {
                    isAdminMode = true;
                    document.getElementById('adminNavItem').style.display = 'block';
                    showNotification('Admin access granted!', 'success');
                    switchSection('admin');
                } else if (password !== null) {
                    showNotification('Invalid password!', 'error');
                }
            }
        }

        // Wallet Options Toggle
        function toggleWalletOptions() {
            if (isWalletConnected) return;
            
            const options = document.getElementById('walletOptions');
            options.style.display = options.style.display === 'block' ? 'none' : 'block';
        }

        // Shopping Cart Functions
        function addToCart(productId) {
            if (!isWalletConnected) {
                showNotification('Please connect your Phantom wallet first!', 'error');
                return;
            }

            const product = allProducts.find(p => p.id === productId);
            if (!product) {
                showNotification('Product not found!', 'error');
                return;
            }

            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            updateCartDisplay();
            showNotification(`${product.name} added to cart!`, 'success');
            
            // Save to localStorage
            localStorage.setItem('pokeden_cart', JSON.stringify(cart));
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartDisplay();
            showNotification('Item removed from cart');
            localStorage.setItem('pokeden_cart', JSON.stringify(cart));
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    updateCartDisplay();
                    localStorage.setItem('pokeden_cart', JSON.stringify(cart));
                }
            }
        }

        function updateCartDisplay() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            const cartCount = document.getElementById('cartCount');
            const checkoutBtn = document.getElementById('checkoutBtn');

            cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);

            if (cart.length === 0) {
                cartItems.innerHTML = '<div style="text-align: center; color: rgba(255,255,255,0.6); padding: 40px;">Your cart is empty</div>';
                cartTotal.textContent = 'Total: 0 SOL';
                checkoutBtn.disabled = true;
                return;
            }

            cartItems.innerHTML = cart.map(item => `
                <div class="cart-item">
                    <div class="cart-item-image">${item.emoji}</div>
                    <div class="cart-item-details">
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-price">${item.price} SOL each</div>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">‚àí</button>
                            <span style="margin: 0 10px; font-weight: bold;">${item.quantity}</span>
                            <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                            <button onclick="removeFromCart(${item.id})" style="margin-left: 15px; background: rgba(255,107,107,0.6); color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Remove</button>
                        </div>
                    </div>
                </div>
            `).join('');

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            cartTotal.textContent = `Total: ${total.toFixed(4)} SOL (‚âà ${(total * 180).toFixed(2)})`;
            checkoutBtn.disabled = !isWalletConnected;
        }

        function toggleCart() {
            const cartSidebar = document.getElementById('cartSidebar');
            cartSidebar.classList.toggle('open');
        }

        // Real Checkout with SOL Payment
        async function checkout() {
            if (!isWalletConnected) {
                showNotification('Please connect your wallet first!', 'error');
                return;
            }

            if (cart.length === 0) {
                showNotification('Your cart is empty!', 'error');
                return;
            }

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const itemCount = cart.reduce((sum, item) => sum + item.quantity, 0);

            // Check SOL balance
            try {
                const publicKey = new solanaWeb3.PublicKey(userWalletAddress);
                const balance = await solanaConnection.getBalance(publicKey);
                const solBalance = balance / solanaWeb3.LAMPORTS_PER_SOL;

                if (solBalance < total + 0.01) { // Add small buffer for transaction fees
                    showNotification(`Insufficient SOL! You need ${total.toFixed(4)} SOL + fees`, 'error');
                    return;
                }

                // Disable checkout button during transaction
                const checkoutBtn = document.getElementById('checkoutBtn');
                checkoutBtn.disabled = true;
                checkoutBtn.textContent = 'Processing...';

                // Process payment
                const signature = await processSOLPayment(total);
                
                // Payment successful
                hideTransactionStatus();
                showNotification(`Payment successful! ${total.toFixed(4)} SOL spent on ${itemCount} items.`, 'success');
                
                // Clear cart
                cart = [];
                localStorage.removeItem('pokeden_cart');
                updateCartDisplay();
                toggleCart();
                
                // Update wallet balances
                setTimeout(() => {
                    updateWalletBalances();
                }, 2000);
                
                // Show transaction link
                setTimeout(() => {
                    showNotification(`Transaction confirmed! View on Solscan`, 'success');
                }, 5000);

            } catch (error) {
                console.error('Checkout error:', error);
                hideTransactionStatus();
                
                if (error.message.includes('User rejected')) {
                    showNotification('Transaction rejected by user', 'error');
                } else if (error.message.includes('insufficient')) {
                    showNotification('Insufficient SOL for transaction', 'error');
                } else {
                    showNotification('Transaction failed. Please try again.', 'error');
                }
            } finally {
                // Re-enable checkout button
                const checkoutBtn = document.getElementById('checkoutBtn');
                checkoutBtn.disabled = false;
                checkoutBtn.textContent = 'Checkout with SOL';
            }
        }

        // Wishlist Functions
        function toggleWishlist(productId) {
            if (wishlist.includes(productId)) {
                wishlist = wishlist.filter(id => id !== productId);
                showNotification('Removed from wishlist');
            } else {
                wishlist.push(productId);
                showNotification('Added to wishlist!');
            }
            
            localStorage.setItem('pokeden_wishlist', JSON.stringify(wishlist));
            renderProducts();
        }

        // Filtering and Search Functions
        function applyFilters() {
            const rarity = document.getElementById('rarityFilter').value;
            const type = document.getElementById('typeFilter').value;
            const price = document.getElementById('priceFilter').value;
            const search = document.getElementById('searchInput').value.toLowerCase();

            filteredProducts = allProducts.filter(product => {
                const matchesRarity = !rarity || product.rarity === rarity;
                const matchesType = !type || product.type === type;
                const matchesSearch = !search || product.name.toLowerCase().includes(search) || 
                                    product.description.toLowerCase().includes(search);

                let matchesPrice = true;
                if (price) {
                    const [min, max] = price.includes('+') ? [parseFloat(price), Infinity] : price.split('-').map(parseFloat);
                    matchesPrice = product.price >= min && (max === undefined || product.price <= max);
                }

                return matchesRarity && matchesType && matchesPrice && matchesSearch;
            });

            currentPage = 1;
            renderProducts();
        }

        function applySorting() {
            const sortBy = document.getElementById('sortBy').value;

            filteredProducts.sort((a, b) => {
                switch (sortBy) {
                    case 'name': return a.name.localeCompare(b.name);
                    case 'price-low': return a.price - b.price;
                    case 'price-high': return b.price - a.price;
                    case 'rarity': 
                        const rarityOrder = { common: 1, uncommon: 2, rare: 3, epic: 4, legendary: 5, mythic: 6 };
                        return rarityOrder[b.rarity] - rarityOrder[a.rarity];
                    case 'newest': return b.id - a.id;
                    default: return 0;
                }
            });

            currentPage = 1;
            renderProducts();
        }

        // Pagination Functions
        function renderPagination() {
            const totalPages = Math.ceil(filteredProducts.length / itemsPerPage);
            const pagination = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagination.innerHTML = '';
                return;
            }

            let paginationHTML = `
                <button class="pagination-btn" ${currentPage === 1 ? 'disabled' : ''} onclick="changePage(${currentPage - 1})">Previous</button>
            `;

            for (let i = 1; i <= totalPages; i++) {
                if (i === 1 || i === totalPages || (i >= currentPage - 2 && i <= currentPage + 2)) {
                    paginationHTML += `
                        <button class="pagination-btn ${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">${i}</button>
                    `;
                } else if (i === currentPage - 3 || i === currentPage + 3) {
                    paginationHTML += '<span style="color: #ffd700; padding: 12px;">...</span>';
                }
            }

            paginationHTML += `
                <button class="pagination-btn" ${currentPage === totalPages ? 'disabled' : ''} onclick="changePage(${currentPage + 1})">Next</button>
            `;

            pagination.innerHTML = paginationHTML;
        }

        function changePage(page) {
            const totalPages = Math.ceil(filteredProducts.length / itemsPerPage);
            if (page < 1 || page > totalPages) return;
            
            currentPage = page;
            renderProducts();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Utility Functions
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;

            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        // Event Listeners
        function setupEventListeners() {
            // Search functionality
            document.getElementById('searchInput').addEventListener('input', applyFilters);

            // Close wallet options when clicking outside
            document.addEventListener('click', function(event) {
                const walletOptions = document.getElementById('walletOptions');
                const connectBtn = document.getElementById('connectWalletBtn');
                
                if (!connectBtn.contains(event.target) && !walletOptions.contains(event.target)) {
                    walletOptions.style.display = 'none';
                }
            });

            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    document.getElementById('searchInput').focus();
                }
                
                if (e.key === 'Escape') {
                    const cartSidebar = document.getElementById('cartSidebar');
                    if (cartSidebar.classList.contains('open')) {
                        toggleCart();
                    }
                    hideTransactionStatus();
                }
            });

            // Load saved cart and wishlist
            const savedCart = localStorage.getItem('pokeden_cart');
            if (savedCart) {
                try {
                    cart = JSON.parse(savedCart);
                    updateCartDisplay();
                } catch (e) {
                    console.warn('Could not load saved cart:', e);
                }
            }

            const savedWishlist = localStorage.getItem('pokeden_wishlist');
            if (savedWishlist) {
                try {
                    wishlist = JSON.parse(savedWishlist);
                } catch (e) {
                    console.warn('Could not load saved wishlist:', e);
                }
            }

            // Auto-refresh balances every 30 seconds
            setInterval(() => {
                if (isWalletConnected) {
                    updateWalletBalances();
                }
            }, 30000);
        }

        console.log('üéÆ Pok√©Den Production Platform Loaded!');
        console.log('üî• Real Phantom wallet integration active');
        console.log('üí∞ SOL payments enabled on', SOLANA_NETWORK);
    </script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pok√©Den - Pok√©mon Trading Platform</title>
    
    <!-- Solana Web3.js Library for Real Wallet Integration -->
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
    
    <!-- SPL Token Library for Token Operations -->
    <script src="https://unpkg.com/@solana/spl-token@latest/lib/index.iife.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #2a2a2a 100%);
            color: #fff;
            line-height: 1.6;
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, #000000 0%, #1a1a00 50%, #333300 100%);
            padding: 20px 0;
            box-shadow: 0 4px 20px rgba(255, 215, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid #ffd700;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #000;
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.5);
        }

        .logo-text h1 {
            font-size: 2rem;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-text p {
            color: rgba(255, 215, 0, 0.8);
            font-size: 0.9rem;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
            align-items: center;
            flex-wrap: wrap;
        }

        .nav-item {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
        }

        .nav-item:hover, .nav-item.active {
            color: #ffd700;
            background: rgba(255, 215, 0, 0.1);
        }

        .search-bar {
            display: flex;
            align-items: center;
            background: rgba(255, 215, 0, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 12px 20px;
            min-width: 250px;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .search-input {
            background: none;
            border: none;
            color: white;
            outline: none;
            width: 100%;
            font-size: 1rem;
        }

        .search-input::placeholder {
            color: rgba(255, 215, 0, 0.6);
        }

        .user-profile-btn {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-left: 10px;
        }

        .user-profile-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
        }

        .admin-btn-header {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .main-content {
            display: none;
        }

        .main-content.active {
            display: block;
        }

        .hero-section {
            text-align: center;
            margin-bottom: 60px;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 215, 0, 0.05));
            border-radius: 20px;
            padding: 60px 40px;
            border: 2px solid rgba(255, 215, 0, 0.2);
            box-shadow: 0 10px 40px rgba(255, 215, 0, 0.1);
        }

        .hero-title {
            font-size: 3rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #fff700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 30px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .stat-card {
            background: rgba(255, 215, 0, 0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #ffd700;
            margin-bottom: 5px;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        .wallet-panel {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 215, 0, 0.05));
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            box-shadow: 0 10px 40px rgba(255, 215, 0, 0.1);
        }

        .wallet-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .wallet-info {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        .wallet-detail {
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 12px;
            flex: 1;
            min-width: 250px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .wallet-detail h3 {
            color: #ffd700;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .wallet-detail p {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            word-break: break-all;
        }

        .connect-wallet-btn {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #000;
            border: none;
            padding: 15px 35px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.3);
            position: relative;
        }

        .connect-wallet-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(255, 215, 0, 0.5);
        }

        .connect-wallet-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .wallet-options {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: #000;
            border: 2px solid #ffd700;
            border-radius: 12px;
            padding: 10px;
            min-width: 200px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        .wallet-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 5px;
        }

        .wallet-option:hover {
            background: rgba(255, 215, 0, 0.1);
        }

        .wallet-option:last-child {
            margin-bottom: 0;
        }

        .wallet-option.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .filters-section {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            align-items: center;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .filter-group label {
            color: #ffd700;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .filter-select, .filter-input {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            padding: 10px 15px;
            color: white;
            font-size: 0.9rem;
        }

        .filter-select option {
            background: #000;
            color: white;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .product-card {
            background: linear-gradient(145deg, rgba(255, 215, 0, 0.1), rgba(255, 215, 0, 0.05));
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 25px;
            border: 2px solid rgba(255, 215, 0, 0.2);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(255, 215, 0, 0.3);
            border-color: #ffd700;
        }

        .card-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #333, #555);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 3rem;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }

        .rarity-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .rarity-common { background: linear-gradient(45deg, #666, #888); }
        .rarity-uncommon { background: linear-gradient(45deg, #27ae60, #2ecc71); }
        .rarity-rare { background: linear-gradient(45deg, #3498db, #5dade2); }
        .rarity-epic { background: linear-gradient(45deg, #9b59b6, #bb85d1); }
        .rarity-legendary { background: linear-gradient(45deg, #ffd700, #ffed4e); }
        .rarity-mythic { background: linear-gradient(45deg, #ff6b6b, #ff8e8e); }

        .card-name {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: #ffd700;
        }

        .card-set {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            margin-bottom: 12px;
        }

        .card-description {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 20px;
            height: 60px;
            overflow: hidden;
        }

        .card-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
            margin-bottom: 5px;
        }

        .stat-value {
            color: #ffd700;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .card-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .price-token {
            font-size: 1.4rem;
            font-weight: bold;
            color: #ffd700;
        }

        .price-usd {
            color: rgba(255, 255, 255, 0.6);
            font-size: 1rem;
        }

        .card-actions {
            display: flex;
            gap: 10px;
        }

        .add-to-cart-btn, .trade-btn {
            flex: 1;
            border: none;
            padding: 12px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .add-to-cart-btn {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #000;
        }

        .trade-btn {
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            color: white;
        }

        .add-to-cart-btn:hover, .trade-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
        }

        .add-to-cart-btn:disabled, .trade-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .wishlist-btn {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            color: #ffd700;
            padding: 12px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
        }

        .wishlist-btn:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: #ffd700;
        }

        .wishlist-btn.active {
            background: rgba(255, 107, 107, 0.2);
            border-color: #ff6b6b;
            color: #ff6b6b;
        }

        /* Loading States */
        .loading {
            opacity: 0.6;
            pointer-events: none;
            position: relative;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            margin: -10px;
            border: 2px solid #ffd700;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Transaction Status */
        .transaction-status {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(145deg, #000, #1a1a1a);
            border: 2px solid #ffd700;
            border-radius: 15px;
            padding: 30px;
            z-index: 2000;
            display: none;
            text-align: center;
            max-width: 400px;
        }

        .transaction-status.active {
            display: block;
        }

        .cart-sidebar {
            position: fixed;
            right: -400px;
            top: 0;
            width: 400px;
            height: 100vh;
            background: linear-gradient(145deg, #000, #1a1a1a);
            backdrop-filter: blur(20px);
            box-shadow: -5px 0 25px rgba(255, 215, 0, 0.3);
            transition: right 0.4s ease;
            z-index: 1000;
            overflow-y: auto;
            border-left: 2px solid #ffd700;
        }

        .cart-sidebar.open {
            right: 0;
        }

        .sidebar-header {
            padding: 30px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 215, 0, 0.1);
        }

        .sidebar-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ffd700;
        }

        .close-sidebar-btn {
            background: none;
            border: none;
            color: #ffd700;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .close-sidebar-btn:hover {
            background: rgba(255, 215, 0, 0.2);
        }

        .sidebar-content {
            padding: 20px;
        }

        .cart-item {
            display: flex;
            gap: 15px;
            padding: 20px;
            background: rgba(255, 215, 0, 0.05);
            border-radius: 12px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .cart-item-image {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #333, #555);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            margin-bottom: 5px;
            color: #ffd700;
        }

        .cart-item-price {
            color: #fff;
            font-weight: bold;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .quantity-btn {
            background: rgba(255, 215, 0, 0.2);
            border: 1px solid rgba(255, 215, 0, 0.3);
            color: #ffd700;
            width: 30px;
            height: 30px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .quantity-btn:hover {
            background: rgba(255, 215, 0, 0.3);
        }

        .cart-summary {
            padding: 30px;
            border-top: 1px solid rgba(255, 215, 0, 0.3);
            background: rgba(255, 215, 0, 0.1);
        }

        .cart-total {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
            color: #ffd700;
        }

        .checkout-btn {
            width: 100%;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #000;
            border: none;
            padding: 18px;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
        }

        .checkout-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .cart-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #000;
            border: none;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 999;
        }

        .cart-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4);
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #000;
            color: #ffd700;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
            border: 1px solid #ffd700;
        }

        .notification {
            position: fixed;
            top: 30px;
            right: 30px;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #000;
            padding: 20px 30px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
            transform: translateX(450px);
            transition: all 0.4s ease;
            z-index: 1001;
            max-width: 350px;
            font-weight: 600;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            color: white;
        }

        .notification.success {
            background: linear-gradient(45deg, #4caf50, #66bb6a);
            color: white;
        }

        .notification.info {
            background: linear-gradient(45deg, #2196f3, #64b5f6);
            color: white;
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 50px;
        }

        .pagination-btn {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            color: #ffd700;
            padding: 12px 18px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .pagination-btn:hover, .pagination-btn.active {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            border-color: #ffd700;
            color: #000;
        }

        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                gap: 15px;
            }

            .search-bar {
                min-width: 100%;
            }

            .hero-title {
                font-size: 2rem;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }

            .cart-sidebar {
                width: 100%;
                right: -100%;
            }

            .filters-grid {
                grid-template-columns: 1fr;
            }

            .wallet-info {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="nav-container">
            <div class="logo-section">
                <div class="logo">‚ö°</div>
                <div class="logo-text">
                    <h1>Pok√©Den</h1>
                    <p>Trading Platform</p>
                </div>
            </div>
            
            <nav class="nav-menu">
                <a class="nav-item active" onclick="switchSection('marketplace')">üè™ Marketplace</a>
                <a class="nav-item" onclick="switchSection('auctions')">üî® Auctions</a>
                <a class="nav-item" onclick="switchSection('trading')">üîÑ Trading</a>
                <a class="nav-item" onclick="switchSection('admin')" id="adminNavItem" style="display: none;">‚öôÔ∏è Admin</a>
            </nav>
            
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="Search cards..." id="searchInput">
                <span>üîç</span>
            </div>

            <button class="user-profile-btn" onclick="showNotification('Profile feature coming soon!', 'info')">
                üë§ Profile
            </button>
            
            <button class="user-profile-btn admin-btn-header" onclick="toggleAdminAccess()">
                üîê Admin
            </button>
        </div>
    </header>

    <div class="container">
        <!-- Marketplace Section -->
        <div class="main-content active" id="marketplace">
            <section class="hero-section">
                <h1 class="hero-title">Premium Pok√©mon Trading Cards</h1>
                <p class="hero-subtitle">Buy, Sell, Trade & Auction rare cards with Holdchu Tokens</p>
                <p style="color: rgba(255,255,255,0.6); margin-top: 10px;">Authorized Dealer ‚Ä¢ Authentic Cards ‚Ä¢ Real Blockchain Payments</p>
